<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Websockets &middot; John Palgut</title>

    <meta name="description" content="Coder. Gamer. Husband.">

    <meta name="generator" content="Hugo 0.15-DEV" />
    <meta name="twitter:card" content="summary">
    
    <meta name="twitter:title" content="Websockets &middot; John Palgut">
    <meta name="twitter:description" content="Coder. Gamer. Husband.">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Websockets &middot; John Palgut">
    <meta property="og:description" content="Coder. Gamer. Husband.">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Oxygen:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-old-ie-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">
    <!--<![endif]-->

    <link rel="stylesheet" href="http://localhost:1313//css/all.min.css">
    <link rel="stylesheet" href="http://localhost:1313//css/main.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="John Palgut" href="http://localhost:1313//index.xml" />
</head>
<body>


<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
    <div class="header">
        <hgroup>
            <h1 class="brand-title"><a href="http://localhost:1313/">John Palgut</a></h1>
            <h2 class="brand-tagline"> Coder. Gamer. Husband. </h2>
        </hgroup>

        <nav class="nav">
            <ul class="nav-list">
                <li class="nav-item">
                    <a class="pure-button" href="/pdf/resume.pdf"><i class="fa fa-file-text-o"></i> Resume</a>
                </li>
                <li class="nav-item">
                    <a class="pure-button" href="/projects"><i class="fa fa-folder-open-o"></i> Projects</a>
                </li>
                <li class="nav-item">
                    <a class="pure-button" href="/about"><i class="fa fa-male"></i> About Me</a>
                </li>
            </ul>
        </nav>

        <nav class="nav">
            <ul class="nav-list">
                
                <li class="nav-item">
                    <a class="pure-button" target="_blank" href="https://twitter.com/jwsonic"><i class="fa fa-twitter"></i> Twitter</a>
                </li>
                
                
                <li class="nav-item">
                    <a class="pure-button" target="_blank" href="https://github.com/Jwsonic "><i class="fa fa-github-alt"></i> github</a>
                </li>
                
                
            </ul>
        </nav>
    </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            
            <div class="posts">
                
                <h1 class="content-subhead">01 Sep 2015, 14:47</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://localhost:1313/projects/filegrabber/" class="post-title">File Grabber</a>

                        <p class="post-meta">
                            
                            
                                under
                                
                                <a class="post-category post-category-HTML" href="http://localhost:1313//categories/html">HTML</a><a class="post-category post-category-Go" href="http://localhost:1313//categories/go">Go</a><a class="post-category post-category-React" href="http://localhost:1313//categories/react">React</a><a class="post-category post-category-Bootstrap" href="http://localhost:1313//categories/bootstrap">Bootstrap</a><a class="post-category post-category-websockets" href="http://localhost:1313//categories/websockets">websockets</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<h2 id="the-why:5d4b5b538fe8b07ed03522cce78aaef9">The Why</h2>

<p>My wife, Jesyka, and I have a small server in our apartment that we back up photos and documents to. The server runs Ubuntu and its pretty easy to access our files through FTP or SSH. However, sometimes we like to download photos or files to our phones and most Android FTP clients are cumbersome or lacking features. After looking around I found <a href="https://github.com/itang/gohttp">gohttp</a> which is very close to what I wanted. I took this as an opportunity to build a webapp similar to gohttp that would fit our exact needs and let me learn some new tricks along the way.</p>

<h2 id="requirements:5d4b5b538fe8b07ed03522cce78aaef9">Requirements</h2>

<p>The initial requirements for File Grabber were:</p>

<ul>
<li>Ability to view, download, and delete files and folders.</li>
<li>Real time updates(ie if a file is deleted on the server, it is immediately removed from the browser)</li>
<li>Single binary installation like gohttp</li>
<li>Be fully <a href="https://en.wikipedia.org/wiki/Responsive_web_design">responsive</a></li>
</ul>

<h2 id="behind-every-good-developer-is-a-designer:5d4b5b538fe8b07ed03522cce78aaef9">Behind every good developer is a designer</h2>

<p>Jes designed stuff. Show design mocks here.</p>

<h2 id="front-end-with-react-and-redux:5d4b5b538fe8b07ed03522cce78aaef9">Front end with React and Redux</h2>

<p>After using <a href="https://facebook.github.io/react/">React</a> to build <a href="/projects/playbook/#using-react-for-an-easy-to-understand-ui:ae2e17d81343b352e5f8570697d79589">The Playbook</a> it has quickly become my favorite way to build webapp front ends. One thing React is not designed for is managing your application state. Facebook(the creator of React) recommends using the <a href="https://facebook.github.io/flux/">Flux</a> architecture for React apps. When I did more research on Flux, I found out that there are <a href="https://github.com/voronianski/flux-comparison">many flux implementations</a> to choose from. Eventually I decided to use a method similar to Flux called <a href="http://rackt.github.io/redux/">Redux</a>. Redux in its own words is &ldquo;<a href="http://rackt.github.io/redux/">&hellip;a predictable state container for JavaScript apps.</a>&rdquo;.</p>

<p>The core idea behind Redux is that your application state is stored as a read only data structure. Updates to application state are done via <a href="https://en.wikipedia.org/wiki/Pure_function">pure functions</a> called reducers. Reducers take a state and an action as parameters and return an updated application state:</p>

<pre><code>(state, action) =&gt; newState
</code></pre>

<p>A sample state for file grabber could look something like:</p>

<pre><code>{
  ui: {
    deleteModal: {
      open: true,
      fileName: 'photo.jpg'
    }
  },
  fileData: {
    files: [{
      name: 'photo.jpg',
      size: 100000
      modTime: 19219319191,
      isDir: false
      }],
    path: '/'
  },
  server: {
    connected: true
  }
}
</code></pre>

<h2 id="talking-to-the-backend:5d4b5b538fe8b07ed03522cce78aaef9">Talking to the backend</h2>

<p>In order to get updates in real time, File Grabber utilizes <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API">WebSockets</a></p>

<h2 id="deploying-a-single-binary:5d4b5b538fe8b07ed03522cce78aaef9">Deploying a single binary</h2>

<h2 id="check-out-the-code:5d4b5b538fe8b07ed03522cce78aaef9">Check out the code</h2>

<p>The code for file grabber is available on <a href="https://github.com/Jwsonic/file-grabber">github</a>.</p>

                    </div>
                </section>
                
            </div>
            

            <div class="footer">
    <div class="pure-menu pure-menu-horizontal pure-menu-open">
        <ul>
            <li>Powered by <a class="hugo" href="http://hugo.spf13.com/" target="_blank">hugo</a></li>
        </ul>
    </div>
</div>
<script src="http://localhost:1313//js/all.min.js"></script>
        </div>
    </div>
</div>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', '', 'auto');
ga('send', 'pageview');

</script>

<script data-no-instant>document.write('<script src="http://'
        + (location.host || 'localhost').split(':')[0]
		+ ':1313/livereload.js?mindelay=10"></'
        + 'script>')</script></body>
</html>
